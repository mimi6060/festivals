apiVersion: v1
kind: ConfigMap
metadata:
  name: festivals-config
  namespace: festivals
  labels:
    app.kubernetes.io/name: festivals
    app.kubernetes.io/component: config
data:
  # Application settings
  APP_ENV: "production"
  LOG_LEVEL: "info"
  LOG_FORMAT: "json"

  # Server configuration
  API_PORT: "8080"
  ADMIN_PORT: "3000"
  METRICS_PORT: "9090"

  # Database configuration (non-sensitive)
  DB_HOST: "postgres-service"
  DB_PORT: "5432"
  DB_NAME: "festivals"
  DB_SSL_MODE: "require"
  DB_MAX_OPEN_CONNS: "25"
  DB_MAX_IDLE_CONNS: "5"
  DB_CONN_MAX_LIFETIME: "5m"

  # Redis configuration (non-sensitive)
  REDIS_HOST: "redis-service"
  REDIS_PORT: "6379"
  REDIS_DB: "0"

  # Storage configuration
  STORAGE_TYPE: "s3"
  S3_REGION: "eu-west-1"

  # Queue configuration
  QUEUE_CONCURRENCY: "10"
  QUEUE_RETRY_MAX: "3"

  # Feature flags
  ENABLE_METRICS: "true"
  ENABLE_TRACING: "true"
  ENABLE_PROFILING: "false"

  # CORS settings
  CORS_ALLOWED_ORIGINS: "https://admin.festivals.app,https://festivals.app"
  CORS_MAX_AGE: "86400"
